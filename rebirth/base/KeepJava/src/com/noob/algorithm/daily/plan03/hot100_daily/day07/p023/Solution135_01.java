package com.noob.algorithm.daily.plan03.hot100_daily.day07.p023;

/**
 * ğŸ”´ 135 åˆ†å‘ç³–æœ - https://leetcode.cn/problems/candy/description/
 */
public class Solution135_01 {

    /**
     * æ€è·¯åˆ†æï¼š
     * åˆ†åˆ«å¤„ç†2ä¸ªæ¡ä»¶ï¼Œé€‰æ‹©æ»¡è¶³2ä¸ªæ¡ä»¶çš„max
     * ä»å·¦åˆ°å³ï¼šæ»¡è¶³è¯„åˆ†é«˜çš„å­©å­è·å¾—æ›´å¤šçš„ç³–æœï¼ˆåªä¸å·¦ä¾§çš„å­©å­ä½œæ¯”è¾ƒï¼‰æ‰€éœ€çš„æœ€å°‘ç³–æœæ•°
     * ä»å³åˆ°å·¦ï¼šæ»¡è¶³è¯„åˆ†é«˜çš„å­©å­è·å¾—æ›´å¤šçš„ç³–æœï¼ˆåªä¸å³ä¾§çš„å­©å­ä½œæ¯”è¾ƒï¼‰æ‰€éœ€çš„æœ€å°‘ç³–æœæ•°
     */
    public int candy(int[] ratings) {

        int n = ratings.length;

        // å·¦æ¡ä»¶æ§åˆ¶
        int[] left = new int[n];
        left[0] = 1; // è‡³å°‘éœ€è¦ä¸€ä¸ªç³–æœ
        for (int i = 1; i < n; i++) {
            // åˆ¤æ–­å½“å‰å­©å­çš„è¯„åˆ†æ˜¯å¦æ¯”å·¦ä¾§å°å­©çš„é«˜ï¼Œå¦‚æœé«˜åˆ™å¤šåˆ†ä¸€ä¸ªï¼Œå¦‚æœä¸é«˜åˆ™åªåˆ†1ä¸ªä¹Ÿæ»¡è¶³
            left[i] = (ratings[i] - ratings[i - 1] > 0) ? left[i - 1] + 1 : 1;
        }

        // å³æ¡ä»¶æ§åˆ¶
        int[] right = new int[n];
        right[n - 1] = 1; // è‡³å°‘éœ€è¦ä¸€ä¸ªç³–æœ
        int cnt = Math.max(left[n - 1], right[n - 1]); // æ‰€éœ€çš„æœ€å°‘ç³–æœæ•°
        for (int i = n - 2; i >= 0; i--) {
            // åˆ¤æ–­å…¶æ˜¯å¦æ¯”å³ä¾§å°å­©è¯„åˆ†é«˜ï¼ŒåŒç†æŒ‰éœ€åˆ†é…
            right[i] = (ratings[i] - ratings[i + 1] > 0) ? right[i + 1] + 1 : 1;
            // è¦åŒæ—¶æ»¡è¶³ä¸¤ä¸ªæ¡ä»¶ï¼Œåˆ™å¿…é¡»é€‰max
            cnt += Math.max(left[i], right[i]);
        }

        // è¿”å›ç»“æœ
        return cnt;
    }
}
