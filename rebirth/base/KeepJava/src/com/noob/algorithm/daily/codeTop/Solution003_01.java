package com.noob.algorithm.daily.codeTop;

import java.util.HashSet;

/**
 * ğŸŸ¡003 æ— é‡å¤çš„æœ€é•¿å­ä¸²
 */
public class Solution003_01 {

    /**
     * æ»‘åŠ¨çª—å£ï¼šå®šä¹‰æ»‘åŠ¨çª—å£å­˜å‚¨ä¸å«é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²
     */
    public int lengthOfLongestSubstring(String s) {
        // å®šä¹‰æœ€é•¿ä¸é‡å¤å­ä¸²é•¿åº¦
        int max = 0;
        // æ„å»ºé›†åˆå­˜å‚¨ä¸é‡å¤å­—ç¬¦å­ä¸²:left,rightåˆ†åˆ«æŒ‡å‘è¿™ä¸ªå­ä¸²çš„å·¦å³è¾¹ç•Œï¼ˆleftç¼©è¾¹ã€rightæ‰©è¾¹ï¼‰
        HashSet<Character> set = new HashSet<>();
        // å®šä¹‰åŒæŒ‡é’ˆ
        int left = 0, right = 0;
        // å½“rightæŒ‡é’ˆæ»‘åŠ¨åˆ°å­—ç¬¦ä¸²å°¾éƒ¨åˆ™ç»“æŸï¼ˆæ­¤å¤„æ±‚çš„æ˜¯æœ€é•¿å­ä¸²ï¼Œå½“rightç§»åŠ¨åˆ°å­—ç¬¦ä¸²å°¾éƒ¨éå†ç»“æŸï¼Œå› ä¸ºå‰©ä¸‹çš„æƒ…å†µå°±æ˜¯leftç¼©è¾¹ï¼Œé•¿åº¦åªä¼šè¶Šæ¥è¶Šå°ï¼‰
        while (right < s.length()) {
            // rightç”¨äºæ‰©å±•æœç´¢ï¼ŒæŒ‡å‘å½“å‰éå†å…ƒç´ ä½ç½®ï¼Œåˆ¤æ–­æ˜¯å¦å·²ç»å‡ºç°åœ¨setä¸­
            char cur = s.charAt(right); // æ³¨æ„ç”¨å­—ç¬¦ç±»å‹å¤„ç†å­—ç¬¦ä¸²ä¸­çš„æ¯ä¸ªå­—ç¬¦
            if (!set.contains(cur)) {
                // å¦‚æœæŒ‡å‘å…ƒç´ ä¸åœ¨é›†åˆä¸­åˆ™åŠ å…¥é›†åˆå¹¶æ›´æ–°æœ€é•¿ä¸é‡å¤å­ä¸²çš„é•¿åº¦
                set.add(s.charAt(right));
                right++;
                // æ›´æ–°é›†åˆå¤§å°
                max = Math.max(max, set.size());
            } else {
                /**
                 * å¦‚æœæŒ‡å‘å…ƒç´ å·²åœ¨é›†åˆä¸­åˆ™éœ€é€æ­¥ç§»å‡ºå‰é¢å‡ºç°è¿™ä¸ªé‡å¤å…ƒç´ åŠåœ¨å…¶å‰é¢çš„å…ƒç´ ï¼Œæ­¤å¤„æœ‰ä¸¤ç§æ€è·¯å¤„ç†
                 * â‘  é€æ­¥ç§»é™¤ï¼šå½“å‡ºç°é‡å¤å…ƒç´ æ—¶ï¼Œæ¯æ¬¡ä»å·¦ä¾§ç§»é™¤ä¸€ä¸ªå…ƒç´ ï¼ˆè¿™ä¸ªæ€è·¯å¤„ç†çš„æ ¸å¿ƒåœ¨äºæ¯æ¬¡æ ¡éªŒåªè¦setå­˜åœ¨é‡å¤å…ƒç´ ï¼Œå°±é€æ­¥ä»å·¦ä¾§å¼€å§‹ç¼©è¾¹ç§»é™¤ä¸€ä½ç›´åˆ°æŠŠæ»¡è¶³åŠ å…¥æ–°çš„å…ƒç´ å¹¶æ›´æ–°ï¼‰
                 * â‘¡ éå†ç§»é™¤ï¼šå½“å‡ºç°é‡å¤å…ƒç´ æ—¶ï¼Œä»å·¦ä¾§å¼€å§‹æœç´¢åˆ°è¿™ä¸ªé‡å¤çš„å…ƒç´ å¹¶ç§»é™¤ï¼Œåœ¨éå†çš„è¿‡ç¨‹ä¸­éœ€è¦å°†æœç´¢è¿‡çš„å…ƒç´ ä¹Ÿä¸€å¹¶ç§»é™¤
                 */
                while (s.charAt(left) != cur) { // å®šä½é‡å¤å…ƒç´ æ‰€åœ¨ä½ç½®ï¼Œå¹¶é€æ­¥ç§»é™¤å‰é¢çš„å…ƒç´ 
                    set.remove(s.charAt(left));
                    left++;
                }
                set.remove(cur);  // æ­¤å¤„ç­‰ä»·äº set.remove(s.charAt(left));
                left++;
            }
        }
        // è¿”å›ç»“æœ
        return max;
    }

    public static void main(String[] args) {
        Solution003_01 s = new Solution003_01();
        System.out.println(s.lengthOfLongestSubstring("pwwkew"));
    }
}
