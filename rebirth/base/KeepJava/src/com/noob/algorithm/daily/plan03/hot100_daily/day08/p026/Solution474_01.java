package com.noob.algorithm.daily.plan03.hot100_daily.day08.p026;

/**
 * ğŸŸ¡ 474 ä¸€å’Œé›¶ - https://leetcode.cn/problems/ones-and-zeroes/description/
 * ç»™å‡ºå­—ç¬¦ä¸²strså’Œ æ•´æ•°mã€nï¼Œæ‰¾å‡ºå¹¶è¿”å›strsçš„æœ€å¤§å­é›†é•¿åº¦ï¼Œå­é›†ä¸­æœ€å¤šæœ‰mä¸ª0ã€nä¸ª1
 */
public class Solution474_01 {

    /**
     * æ€è·¯åˆ†æï¼š
     * dp[i][j] è¡¨ç¤ºåŸºäºiä¸ª0ã€jä¸ª1çš„é™åˆ¶ä¸‹å¯æ”¾ç½®çš„æœ€å¤§å­é›†çš„é•¿åº¦ï¼Œæœ€å¤§é™åˆ¶mä¸ª0ã€nä¸ª1ï¼ŒéªŒè¯æ˜¯å¦å¯æ”¾å…¥èƒŒåŒ…ï¼ˆåŸºäº01èƒŒåŒ…çš„ä¸€ç»´æ•°ç»„ç©ºé—´ä¼˜åŒ–æ€è·¯åˆ†æï¼‰
     * - å¯¹äºæ¯ä¸ªå­—ç¬¦ä¸²å¯ä»¥é€‰æ‹©æ˜¯å¦è¦æ”¾å…¥èƒŒåŒ…ï¼Œä¸èƒ½è¶…å‡ºèƒŒåŒ…å®¹é‡ï¼ˆmä¸ª0ã€nä¸ª1ï¼‰
     * - 1.å¦‚æœå¯ä»¥æ”¾å…¥(å¯ä»¥é€‰æ‹©æ”¾æˆ–ä¸æ”¾)ï¼šdp[i][j] = max{dp[i][j](ä¸æ”¾å…¥ï¼Œç»§æ‰¿ä¸Šä¸€çŠ¶æ€),dp[i-zeroCnt][j-oneCnt] + 1 }
     * - 2.å¦‚æœä¸å¯ä»¥æ”¾å…¥ï¼šdp[i][j](ä¸æ”¾å…¥ï¼Œç»§æ‰¿ä¸Šä¸€çŠ¶æ€)
     */
    public int findMaxForm(String[] strs, int m, int n) {
        // 1.dpå®šä¹‰ï¼šdp[i][j] è¡¨ç¤º
        int[][] dp = new int[m + 1][n + 1];

        // 2.dpé€’æ¨

        // 3.dpåˆå§‹åŒ–
        dp[0][0] = 0; // å®¹é‡å‡ä¸º0æ”¾ä¸ä¸‹ä»»ä½•å­—ç¬¦ä¸²ï¼ˆé™¤éé‡åˆ°ç©ºé›†ï¼Œä½†æµ‹è¯•ç”¨ä¾‹é™å®š`expected rows of 'strs' to have 1 <= size <= 100`ï¼‰

        /**
         * 4.æ„å»ºdp
         * ä¸€ç»´æ•°ç»„æ ¸å¿ƒï¼š
         * å¤–å±‚ç‰©å“ï¼š å³æ­¤å¤„çš„å­—ç¬¦ä¸²åˆ—è¡¨
         * å†…å±‚èƒŒåŒ…ï¼ˆèƒŒåŒ…é€†åºï¼Œé¿å…å€¼è¦†ç›–å½±å“ï¼‰ï¼šå³æ­¤å¤„çš„èƒŒåŒ…é™åˆ¶
         */
        // å¤–å±‚ç‰©å“
        for (String str : strs) {
            int[] cnt = getCnt(str);
            int zeroCnt = cnt[0];
            int oneCnt = cnt[1];
            // å†…å±‚èƒŒåŒ…ï¼šåŒé€†åºï¼ˆæ€è€ƒæ­¤å¤„ä¸ºä»€ä¹ˆé™å®šæ˜¯éå†åˆ°zeroCntã€oneCntï¼ˆå’Œæ™®é€šä¸€ç»´çš„01èƒŒåŒ…é—®é¢˜ç±»ä¼¼ï¼Œè¡¨ç¤ºåœ¨å¯ä»¥ç©ºå‡ºè¯¥ç‰©å“æ‰€éœ€çš„å®¹é‡ä¹‹ååŠ å…¥è¯¥å­—ç¬¦ä¸²ï¼Œå› æ­¤éœ€è¦æ­¤å¤„è¦é™åˆ¶ä¸¤ä¸ªèƒŒåŒ…çš„å¤„ç†èŒƒå›´ï¼Œå¯ä»¥ç»“åˆå…¬å¼æ¥ç†è§£å¤„ç†ï¼ˆæ•°ç»„ä¸èƒ½è¶Šç•Œï¼‰ï¼‰ï¼‰
            for (int i = m; i >= zeroCnt; i--) {
                for (int j = n; j >= oneCnt; j--) {
                    dp[i][j] = Math.max(dp[i][j], dp[i - zeroCnt][j - oneCnt] + 1);
                }
            }
        }
        return dp[m][n];
    }

    /**
     * ç»Ÿè®¡æŒ‡å®šå­—ç¬¦ä¸²çš„æ‰€éœ€çš„0ã€1ä¸ªæ•°ï¼ˆ{zeroã€one}ï¼‰
     */
    private int[] getCnt(String str) {
        // ç»Ÿè®¡å½“å‰å­—ç¬¦ä¸²éœ€è¦çš„0 1
        int zeroCnt = 0, oneCnt = 0;
        for (char ch : str.toCharArray()) {
            if (ch == '0') {
                zeroCnt++;
            } else if (ch == '1') {
                oneCnt++;
            }
        }
        return new int[]{zeroCnt, oneCnt};
    }

}
