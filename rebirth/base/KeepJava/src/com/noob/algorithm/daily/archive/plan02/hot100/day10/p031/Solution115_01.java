package com.noob.algorithm.daily.archive.plan02.hot100.day10.p031;

/**
 * ğŸ”´ 115 ä¸åŒçš„å­åºåˆ— - https://leetcode.cn/problems/distinct-subsequences/description/
 */
public class Solution115_01 {

    /**
     * æ€è·¯åˆ†æï¼šè¿”å›sçš„å­åºåˆ—åœ¨tä¸­å‡ºç°çš„ä¸ªæ•°
     * åŸºäºéå†çš„æ€è·¯ï¼Œæ ¹æ®t[0]å¯»æ‰¾æ ¡éªŒçš„èµ·ç‚¹ï¼Œç„¶ååŸºäºæ­¤èµ·ç‚¹æ ¡éªŒsæ˜¯å¦å­˜åœ¨å­åºåˆ—ç­‰äºtå­—ç¬¦ä¸² (âŒå¤æ‚åŒ–)
     * åŸºäºåŠ¨æ€è§„åˆ’æ€è·¯
     */
    public int numDistinct(String s, String t) {

        int m = s.length() + 1, n = t.length() + 1;
        // 1.dp å®šä¹‰ï¼šdp[i][j] è¡¨ç¤ºåŸºäº[0,i-1]çš„sã€[0,j-1]çš„tï¼Œsçš„å­åºåˆ—åœ¨tä¸­å‡ºç°çš„ä¸ªæ•°
        int[][] dp = new int[m][n];

        /**
         * 2.dp é€’æ¨ï¼ˆåŸºäºs[i-1]ä¸t[j-1]æ˜¯å¦ç›¸ç­‰åˆ†æƒ…å†µè®¨è®ºï¼‰
         * - s[i-1]==t[j-1]
         *      - ç”¨s[i-1]æ¥åŒ¹é…ï¼ˆä½¿ç”¨è¯¥å­—ç¬¦ï¼‰ï¼šdp[i][j]=dp[i-1][j-1]
         *      - ä¸ç”¨s[i-1]åŒ¹é…ï¼ˆä½¿ç”¨è¯¥å­—ç¬¦ï¼‰ï¼šdp[i][j]=dp[i-1][j]
         * - s[i-1]!=t[j-1]ï¼ˆæ— æ³•ä½¿ç”¨è¯¥å­—ç¬¦åŒ¹é…ï¼‰
         */

        // 3.dp åˆå§‹åŒ–
        dp[0][0] = 1; // ç©ºå­—ç¬¦ä¸²så¯é€šè¿‡åˆ é™¤0ä¸ªå­—ç¬¦å¾—åˆ°ç©ºå­—ç¬¦ä¸²t
        // é¦–è¡Œåˆå§‹åŒ–
        for (int j = 1; j < n; j++) {
            dp[0][j] = 0; // ç©ºå­—ç¬¦ä¸²sæ— æ³•é€šè¿‡åˆ é™¤æ“ä½œå¾—åˆ°éç©ºå­—ç¬¦ä¸²t
        }
        for (int i = 1; i < m; i++) {
            dp[i][0] = 1; // éç©ºå­—ç¬¦ä¸²så¯ä»¥é€šè¿‡åˆ é™¤æ“ä½œå¾—åˆ°ç©ºå­—ç¬¦ä¸²tï¼ˆå¯ä»¥ç†è§£ä¸ºç©ºå­—ç¬¦ä¸²ä¸ºä»»æ„å­—ç¬¦ä¸²çš„å­åºåˆ—ï¼‰
        }

        // 4.dp æ„å»º
        for (int i = 1; i < m; i++) {
            for (int j = 1; j < n; j++) {
                if (s.charAt(i - 1) == t.charAt(j - 1)) {
                    dp[i][j] = dp[i - 1][j - 1] + dp[i - 1][j];
                } else {
                    dp[i][j] = dp[i - 1][j];
                }
            }
        }

        return dp[m-1][n-1];
    }

}
