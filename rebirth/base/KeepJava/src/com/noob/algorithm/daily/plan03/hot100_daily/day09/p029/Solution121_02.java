package com.noob.algorithm.daily.plan03.hot100_daily.day09.p029;

/**
 * ğŸŸ¢ 121 ä¹°å–è‚¡ç¥¨çš„æœ€ä½³æ—¶æœº - https://leetcode.cn/problems/best-time-to-buy-and-sell-stock/description/
 */
public class Solution121_02 {

    /**
     * æ€è·¯åˆ†æï¼šåŠ¨æ€è§„åˆ’
     * - â‘  dp[i][0] ç¬¬iå¤©è‚¡ç¥¨ä¸ºæŒæœ‰çŠ¶æ€ä¸‹æ‰€è·å¾—çš„æœ€å¤§åˆ©æ¶¦
     * - â‘¡ dp[i][1] ç¬¬iå¤©è‚¡ç¥¨ä¸ºæœªæŒæœ‰çŠ¶æ€ä¸‹æ‰€è·å¾—çš„æœ€å¤§åˆ©æ¶¦
     * =ã€‹max{â‘ ï¼Œâ‘¡}
     */
    public int maxProfit(int[] prices) {

        int n = prices.length;
        // dp[i][j]
        int[][] dp = new int[n][2];

        // åˆå§‹åŒ–
        dp[0][0] = -prices[0]; // ç¬¬0å¤©ï¼Œå¦‚æœè¦ä¸ºæŒæœ‰çŠ¶æ€åˆ™éœ€ä¹°å…¥è‚¡ç¥¨
        dp[0][1] = 0; // ç¬¬0å¤©ï¼Œå¦‚æœè¦ä¸ºæœªæŒæœ‰çŠ¶æ€åˆ™ä¸éœ€è¦åšä»»ä½•æ“ä½œ

        /**
         * é€’æ¨ï¼š
         * dp[i][0] = max{dp[i-1][0],dp[i-1][1]-prices[i]}(å‰ä¸€å¤©æŒæœ‰ç»§ç»­æŒæœ‰ï¼Œå‰ä¸€å¤©æœªæŒæœ‰åˆ™ä¹°å…¥)
         * dp[i][1] = max{dp[i-1][1],dp[i-1][0]+prices[i]}(å‰ä¸€å¤©æœªæŒæœ‰åˆ™ç»§ç»­ä¿æŒçŠ¶æ€ï¼Œå‰ä¸€å¤©æŒæœ‰åˆ™å–å‡º)
         */

        // æ„å»ºdp
        for (int i = 1; i < n; i++) {
            dp[i][0] = Math.max(dp[i - 1][0], 0 - prices[i]); // å› ä¸ºåªèƒ½ä¹°å–ä¸€æ¬¡ï¼Œå› æ­¤å¦‚æœä¹°å…¥çš„å‰ç½®çŠ¶æ€åªèƒ½æ˜¯ç¬¬1æ¬¡æœªæŒæœ‰
            dp[i][1] = Math.max(dp[i - 1][1], dp[i - 1][0] + prices[i]);
        }
        // æœ€åä¸€å¤©ä¸æŒæœ‰è‚¡ç¥¨å¯è·å¾—æœ€å¤§åˆ©æ¶¦
        return dp[n - 1][1];
    }

}
