package com.noob.algorithm.daily.plan03.hot100_daily.day07.p024;

/**
 * ğŸŸ¡ 134 åŠ æ²¹ç«™ - https://leetcode.cn/problems/gas-station/submissions/600314289/
 */
public class Solution134_01 {

    /**
     * æ€è·¯åˆ†æï¼š
     * æ ¡éªŒæ¯ä¸€ä¸ªå¯èƒ½èµ·ç‚¹ï¼Œåˆ¤æ–­å½“å‰ä½ç½®å¼€å§‹å‡ºå‘å¯å¦åˆ°è¾¾ä¸‹ä¸ªä½ç½®ï¼Œæœ€ç»ˆéªŒè¯ç¯è·¯æ²¹é‡å·®æ˜¯å¦å¤§äº0
     */
    public int canCompleteCircuit(int[] gas, int[] cost) {
        // èµ·ç‚¹ç´¢å¼•ä½ç½®
        int startIdx = 0; // å½“å‰é€‰æ‹©çš„å‡ºå‘ç‚¹ä½ç½®ï¼Œåˆå§‹åŒ–ä»ç¬¬1ä¸ªæ²¹ç«™å¼€å§‹
        int curGas = 0; // å½“å‰æ²¹é‡ï¼ŒåŸºäºå½“å‰é€‰æ‹©å‡ºå‘ç‚¹èµ°åˆ°å½“å‰ä½ç½®çš„å‰©ä½™æ²¹é‡
        int totalGas = 0; // æ€»æ²¹é‡å·®ï¼Œè¡¨ç¤ºæ•´ä¸ªç¯è·¯æ²¹é‡ä¸æ¶ˆè€—çš„æ€»å·®å€¼
        for (int i = 0; i < gas.length; i++) {
            // åˆ°è¾¾æŸä¸ªåŠ æ²¹ç«™ï¼Œè¿›è¡ŒåŠ æ²¹ï¼Œå¹¶åˆ¤æ–­å½“å‰æ²¹é‡æ˜¯å¦å¯ä»¥æ”¯æ’‘å®ƒèµ°åˆ°ä¸‹ä¸€ä¸ªåŠ æ²¹ç«™
            totalGas += (gas[i] - cost[i]); // æ²¹é‡å·®å€¼ç»Ÿè®¡
            curGas += (gas[i] - cost[i]); // å½“å‰å‰©ä½™æ²¹é‡æ›´æ–°
            // éªŒè¯å‰©ä½™æ²¹é‡æ˜¯å¦å¯ä»¥èµ°åˆ°ä¸‹ä¸€ä¸ªåŠ æ²¹ç«™ä½ç½®ï¼ˆä¸­é—´ä¸æ–­æ²¹ï¼‰
            if (curGas < 0) {
                // é‡ç½®èµ·ç‚¹ï¼ˆå¦‚æœå½“å‰å‰©ä½™æ²¹é‡å°äº0ï¼Œè¯´æ˜æ— æ³•èµ°åˆ°ä¸‹ä¸€ä¸ªåŠ æ²¹ç«™ï¼Œåˆ™éœ€ä»ä¸‹ä¸€ä¸ªåŠ æ²¹ç«™å¼€å§‹é‡æ–°å‡ºå‘ï¼‰
                curGas = 0;
                startIdx = i + 1; // ä»å½“å‰èŠ‚ç‚¹çš„ä¸‹ä¸€ä¸ªä½ç½®å¼€å§‹é‡æ–°å‡ºå‘
            }
        }
        // éå†å®Œæˆï¼Œåˆ¤æ–­æœ€ç»ˆçš„totalGasæ˜¯å¦å¤§äº0ï¼ˆç¯è·¯æ²¹é‡å·®å€¼æ˜¯å¦å¤§äº0ï¼‰
        return totalGas >= 0 ? startIdx : -1;
    }
}
