package com.noob.algorithm.daily.plan01.day38;

/**
 * ğŸ”´ 115 ä¸åŒçš„å­åºåˆ— - https://leetcode.cn/problems/distinct-subsequences/description/
 */
public class Solution115_01 {
    /**
     * åŠ¨æ€è§„åˆ’æ³•ï¼šåˆ¤æ–­sçš„å­åºåˆ—ä¸­tå‡ºç°çš„ä¸ªæ•°ï¼ˆå³sæ˜¯sourceã€tæ˜¯targetï¼‰
     */
    public int numDistinct(String s, String t) {
        // å­—ç¬¦ä¸²é•¿åº¦å®šä¹‰
        int sLen = s.length(), tLen = t.length();
        // 1.dp å®šä¹‰ï¼šdp[i][j] è¡¨ç¤ºä»¥ä¸‹æ ‡i-1ç»“å°¾çš„å­—ç¬¦ä¸²sçš„å­åºåˆ—ä¸­å‡ºç° ä»¥ä¸‹æ ‡j-1ç»“å°¾çš„å­—ç¬¦ä¸²tçš„ä¸ªæ•° ä¸ºdp[i][j]
        int[][] dp = new int[sLen + 1][tLen + 1];

        /**
         * 2.dp é€’æ¨ï¼šåŸºäºså¯ä»¥é€šè¿‡åˆ é™¤å­—ç¬¦å¾—åˆ°tçš„æ€è·¯å»åˆ†æï¼Œåˆ¤æ–­s[i-1]ä¸t[j-1]æ˜¯å¦åŒ¹é…ï¼Œç„¶ååˆ¤æ–­æ˜¯å¦é€šè¿‡s[i-1]åŒ¹é…åˆ†æƒ…å†µè®¨è®º
         * â‘  s[i-1]==t[j-1]: ä»¥s:baggã€t:bagä¸ºä¾‹
         * - åŒ¹é…s[i-1]ï¼ˆä¾‹å¦‚s[0]s[1]s[3]ç»„æˆï¼‰å³ä¸è€ƒè™‘å½“å‰så­ä¸²å’Œtå­ä¸²çš„æœ€åä¸€ä½å­—æ¯çš„æƒ…å†µ
         * - ä¸åŒ¹é…s[i-1](ä¾‹å¦‚s[0]s[1]s[2]ç»„æˆ)
         * =ã€‹ dp[i][j] = dp[i-1][j-1] + dp[i-1][j]
         * â‘¡ s[i-1]!=t[j-1]: dp[i][j] = dp[i-1][j]
         */

        // 3.dp åˆå§‹åŒ–
        // é¦–è¡Œåˆå§‹åŒ–
        dp[0][0] = 1; // ç©ºå­—ç¬¦ä¸²så¯ä»¥åˆ é™¤ä»»æ„å…ƒç´ ï¼Œå…¶åœ¨ç©ºå­—ç¬¦ä¸²tä¸­å‡ºç°çš„ä¸ªæ•°ä¸º1
        for (int j = 0; j <= tLen; j++) {
            dp[0][j] = 0; // ç©ºå­—ç¬¦ä¸²så¯ä»¥åˆ é™¤ä»»æ„å…ƒç´ ï¼Œå…¶æ— æ³•æ„æˆä»¥j-1ç»“å°¾çš„tï¼Œå› æ­¤ä¸ªæ•°ä¸º0
        }
        // é¦–åˆ—åˆå§‹åŒ–ï¼šä»¥i-1ç»“å°¾çš„å­—ç¬¦ä¸²så¯ä»¥é€šè¿‡åˆ é™¤å…ƒç´ æ„æˆç©ºå­—ç¬¦ä¸²
        for (int i = 0; i <= sLen; i++) {
            dp[i][0] = 1;
        }

        // 4.dp æ„å»º
        for (int i = 1; i <= sLen; i++) {
            for (int j = 1; j <= tLen; j++) {
                if (s.charAt(i - 1) == t.charAt(j - 1)) {
                    dp[i][j] = dp[i - 1][j - 1] + dp[i - 1][j];
                } else {
                    dp[i][j] = dp[i - 1][j];
                }
            }
        }

        // è¿”å›ç»“æœ
        return dp[sLen][tLen];

    }

}
