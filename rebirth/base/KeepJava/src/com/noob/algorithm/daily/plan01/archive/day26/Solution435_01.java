package com.noob.algorithm.daily.plan01.archive.day26;

import java.util.Arrays;
import java.util.Comparator;

/**
 * ğŸŸ¡ 435 æ— é‡å åŒºé—´ - https://leetcode.cn/problems/non-overlapping-intervals/description/
 */
public class Solution435_01 {

    /**
     * æ€è·¯ï¼šm-cntæ¦‚å¿µï¼ˆç”¨åŒºé—´æ€»æ•°å‡å»æœ€å°å°„å‡»æ•°ï¼‰
     * - æœ¬é¢˜å’Œã€452-ç”¨æœ€å°‘æ•°é‡çš„ç®­å¼•çˆ†æ°”çƒã€‘çš„é¢˜å‹æ€è·¯å¤§åŒå°å¼‚ï¼Œä½†éœ€æ³¨æ„è¾¹ç•Œå¤„ç†å’Œè¿”å›ç»“æœ
     * - ã€452ã€‘ä¸­æ±‚çš„æ˜¯æœ€å°‘å°„å‡»ç®­æ•°ï¼ˆå¯ä»¥ç†è§£ä¸ºæ­¤å¤„ä¿ç•™çš„åŒºé—´ä¸ªæ•°ç»Ÿè®¡ï¼‰ï¼Œé‚£ä¹ˆã€435ã€‘ä¸­è¿”å›çš„ç»“æœåº”è¯¥æ˜¯`m-cnt`å¾—åˆ°ç§»é™¤åŒºé—´çš„æœ€å°æ•°é‡
     */
    public int eraseOverlapIntervals(int[][] intervals) {

        // æ ¹æ®åŒºé—´å³è¾¹ç•Œè¿›è¡Œæ’åº
        Arrays.sort(intervals, new Comparator<int[]>() {
            @Override
            public int compare(int[] o1, int[] o2) {
                return o1[1] == o2[1] ? o1[0] - o2[0] : o1[1] - o2[1];
            }
        });

        int m = intervals.length;

        // åˆå§‹åŒ–é€‰æ‹©è¦†ç›–ç‚¹ï¼ˆå°„å‡»ä½ç½®ï¼‰
        int shotIdx = intervals[0][1]; // é€‰æ‹©åŒºé—´å³ç«¯ç‚¹ä½œä¸ºå°„å‡»ä½ç½®
        int cnt = 1; // è®°å½•å°„å‡»æ•°
        // éå†åŒºé—´ç¡®è®¤è¦†ç›–èŒƒå›´
        for (int i = 0; i < m; i++) {
            // æ ¡éªŒå°„å‡»ç‚¹ä¸åŒºé—´å·¦ç«¯ç‚¹çš„å…³ç³»ï¼ˆæ­¤å¤„ç”±äºè§¦ç‚¹ä¸è®¡å…¥è¦†ç›–èŒƒå›´ï¼Œå› æ­¤æ­¤å¤„æœ‰æ•ˆçš„åŒºé—´ä¸º(left,right]ï¼‰
            if (shotIdx <= intervals[i][0]) {
                // é€‰æ‹©æ–°çš„å°„å‡»ç‚¹ï¼Œå¹¶è®°å½•å°„å‡»æ•°é‡
                shotIdx = intervals[i][1];
                cnt++;
            }
        }
        // cnt è¡¨ç¤ºç”¨æœ€å°‘æ•°é‡çš„ç®­è¦†ç›–èŒƒå›´ï¼ˆå¯ä»¥ç†è§£ä¸ºæ­¤å¤„ä¿ç•™çš„åŒºé—´ä¸ªæ•°ç»Ÿè®¡ï¼‰ï¼Œå› æ­¤ç»“æœè¦å»é™¤çš„åŒºé—´ä¸ªæ•°ä¸ºm-cnt
        return m - cnt;
    }
}
