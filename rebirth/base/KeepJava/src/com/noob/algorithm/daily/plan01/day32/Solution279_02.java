package com.noob.algorithm.daily.plan01.day32;

/**
 * ğŸŸ¡ 279-å®Œå…¨å¹³æ–¹æ•° - https://leetcode.cn/problems/perfect-squares/
 */
public class Solution279_02 {

    /**
     * æ€è·¯åˆ†æï¼šé—®é¢˜è½¬åŒ–ä¸ºå®Œå…¨èƒŒåŒ…é—®é¢˜ï¼Œç±»ä¼¼å‡‘æˆæŒ‡å®šç¡¬å¸é‡‘é¢çš„æœ€å°‘ç¡¬å¸æ•°
     * æ­¤å¤„ç‰©å“ä»·å€¼å’Œé‡é‡å³æ•°å­—ï¼ˆ1-xï¼‰çš„å–å€¼ï¼ˆæ­¤å¤„xçš„å–å€¼å–å†³äºnçš„ç®—æ•°å¹³æ–¹æ ¹ï¼‰ï¼ŒèƒŒåŒ…å®¹é‡ä¸ºn
     */
    public int numSquares(int n) {
        // 1.dp å®šä¹‰ï¼šdp[i]è¡¨ç¤ºå¯å‡‘æˆå®Œå…¨å¹³æ–¹æ•°içš„æœ€å°‘æ•°å­—ä¸ªæ•°
        int[] dp = new int[n + 1];

        /**
         * 2.dp é€’æ¨ï¼šdp[j] = min{dp[j],dp[j-i*i] + 1}
         */

        // 3.dp åˆå§‹åŒ–
        dp[0] = 0;
        for (int i = 1; i <= n; i++) {
            dp[i] = Integer.MAX_VALUE; // å…¶ä½™æ•°ç»„å…ƒç´ åˆå§‹åŒ–ä¸ºæœ€å¤§å€¼ï¼Œé¿å…é€’æ¨è¿‡ç¨‹ä¸­è¢«minè¦†ç›–
        }

        // 4.dp æ„å»ºï¼šç¡®å®šéå†é¡ºåºï¼ˆå…ˆèƒŒåŒ…åç‰©å“ï¼‰
        for (int i = 1; i <= n; i++) { // èƒŒåŒ…å®¹é‡å—é™äºn
            for (int j = 1; j * j <= i; j++) { // ç‰©å“ä¸ªæ•°å—é™äºå½“å‰èƒŒåŒ…å®¹é‡
                dp[i] = Math.min(dp[i], dp[i - j * j] + 1);
            }
        }

        // è¿”å›ç»“æœ
        return dp[n];
    }

}
